{% extends 'base.html' %}

{% block content %}
<style>
    .form-box {
        max-width: 500px;
        margin: 50px auto;
        padding: 30px;
        background: white;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .form-group { margin-bottom: 15px; }
    label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }

    input, select, textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-sizing: border-box; 
    }

    button {
        width: 100%;
        padding: 12px;
        background: #6200ea;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
    }
</style>

<div class="form-box">
    <h2 style="text-align: center; color: #6200ea;">
        {% if task %} Edit Task ✏️ {% else %} New Task ✨ {% endif %}
    </h2>

    <form method="POST">
        {% csrf_token %}

        <div class="form-group">
            <label>Task Title</label>
            <input type="text" name="title" value="{{ task.title }}" required placeholder="Enter task name...">
        </div>

        <div class="form-group">
            <label>Description</label>
            <textarea name="description" rows="3" placeholder="Enter details...">{{ task.description }}</textarea>
        </div>

        <div class="form-group">
            <label>Priority</label>
            <select name="priority">
                <option value="High" {% if task.priority == "High" %}selected{% endif %}>High</option>
                <option value="Medium" {% if task.priority == "Medium" %}selected{% endif %}>Medium</option>
                <option value="Low" {% if task.priority == "Low" %}selected{% endif %}>Low</option>
            </select>
        </div>

        <div class="form-group">
            <label>Status</label>
            <select name="status">
                <option value="To Do" {% if task.status == "To Do" %}selected{% endif %}>To Do</option>
                <option value="In Progress" {% if task.status == "In Progress" %}selected{% endif %}>In Progress</option>
                <option value="Completed" {% if task.status == "Completed" %}selected{% endif %}>Completed</option>
            </select>
        </div>

        <div class="form-group">
            <label>Due Date</label>
            <input type="date" name="due_date" value="{{ task.due_date|date:'Y-m-d' }}">
        </div>

        <button type="submit">Save Task</button>

        <div style="text-align: center; margin-top: 15px;">
            <a href="{% url 'index' %}" style="text-decoration: none; color: #888;">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}